name: Test

on:
  push:
      branches:
        - dev
        - main
  page_build:
  release:
    types:
      - created

jobs:
  hello-world:
    runs-on: ubuntu-20.04
    name: hello-world
    steps:
    - id: Say_hello_world
      run: "echo Welcome to the Github Actions workshop !"

  unit-test:
    container:
      image: node:10.16-jessie
      env:
        NODE_ENV: development
      ports:
        - 80
      volumes:
        - my_docker_volume:/volume_mount
      options: --cpus 1
    runs-on: ubuntu-20.04
    name: unit-test
    steps:
    - id: Checkout_repo
      run: "echo Checkout_repo"
    - id: Unit-tests
      run: "make"
    - id: Coverage
      run: "make tests_cover"